<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Application</title>
    <script src="https://code.responsivevoice.org/responsivevoice.js?key=iEREiqUt"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            padding: 20px;
        }
        #time {
            font-size: 1.5rem;
            margin-bottom: 20px;
        }
        #x {
            margin: 20px 0;
        }
        button {
            margin: 5px;
            padding: 10px 15px;
            font-size: 1rem;
            background-color: #007BFF;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #0056b3;
        }
        #score {
            font-size: 1.5rem;
            margin-top: 20px;
        }
    </style>
</head>
<body>

<span id="time"></span>

<div id="hide">
    <input type="button" value="1" id="0" onclick="show(0)" />
    <input type="button" value="2" id="1" onclick="show(1)" />
    <input type="button" value="3" id="2" onclick="show(2)" />
    <input type="button" value="4" id="3" onclick="show(3)" />
    <input type="button" value="5" id="4" onclick="show(4)" />
    <input type="button" value="6" id="5" onclick="show(5)" />
    <input type="button" value="7" id="6" onclick="show(6)" />
    <input type="button" value="8" id="7" onclick="show(7)" />
    <input type="button" value="9" id="8" onclick="show(8)" />
    <input type="button" value="10" id="9" onclick="show(9)" />
    <p id="x"></p>
    <button onclick="previous()">Previous</button>
    <button onclick="next()">Next</button>
    <button onclick="answer()">Submit Answer</button>
    <button onclick="finish()">Finish</button>
</div>

<p id="score"></p>

<script>
    var h = 0, m = 1; // Set timer for 1 minute
    var timer = setInterval(Anim, 1000);
    
    function Anim() {
        document.getElementById("time").innerHTML = "Time Left: " + h + " hours " + m + " minutes";
        m--;
        if (m < 0) {
            h--;
            m = 59;
        }
        if (h < 0) {
            clearInterval(timer);
            alert("Time's up!");
            document.getElementById("hide").style.visibility = "hidden";
        }
    }  

    var questions = [
        { question: "Who is the PM of India?", answers: ["Narendra Modi", "Rahul Gandhi", "Arvind Kejriwal", "Bhupesh Baghel"], correct: 0 },
        { question: "What is 3 + 4 * 6?", answers: ["50", "27", "40", "45"], correct: 1 }
    ];
    
    var marks = 0;
    var index = 0;
    var userAnswers = Array(questions.length).fill(null);

    function show(v) {
        if (v < 0 || v >= questions.length) return; // Prevent out of bounds
        index = v;
        var questionObj = questions[v];
        document.getElementById("x").innerHTML = questionObj.question + "<br/>";
        questionObj.answers.forEach((answer, i) => {
            document.getElementById("x").innerHTML += `<input type='radio' name='a' value='${i}' id='a${i}'> ${answer}<br/>`;
        });
        responsiveVoice.speak(questionObj.question);
    }

    function answer() {
        var selectedAnswer = document.querySelector('input[name="a"]:checked');
        if (!selectedAnswer) {
            alert("Please select an answer.");
            return;
        }
        var selectedIndex = parseInt(selectedAnswer.value);
        userAnswers[index] = selectedIndex;
        if (questions[index].correct === selectedIndex) {
            marks++;
        }
        alert("Answer submitted");
    }

    function next() {
        if (index < questions.length - 1) {
            show(index + 1);
        } else {
            alert("This is the last question.");
        }
    }

    function previous() {
        if (index > 0) {
            show(index - 1);
        } else {
            alert("This is the first question.");
        }
    }

    function finish() {
        clearInterval(timer);
        document.getElementById("hide").style.visibility = "hidden";
        document.getElementById("time").style.visibility = "hidden";
        document.getElementById("score").innerHTML = "Your score is: " + marks + " out of " + questions.length;
        responsiveVoice.speak("Your score is " + marks);
    }
</script>
</body>
</html>
